<html>
  <head>
    <title>Module 5 test server</title>
    <link rel="stylesheet" href="/styles.css"></link>
  </head>
  <body>
    <div class="container">
      <h1>Polling demo</h1>

      <p>The below is the latest message received from the server:</p>
      <div id="message">Waiting for first message to arrive!</div>
      <br />

      <button onclick="reset()">Reset</button>
    </div>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      const ws = new WebSocket(`ws://${window.location.host}/websocket`)
      ws.addEventListener('message', message => {
        document.getElementById('message').innerHTML = message.data;
      });

      function reset() {
        ws.send('{"type": "reset"}');
      }
    </script>
  </body>
</html>
